/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/public/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/* no static exports found */
/* all exports used */
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(module, exports) {

eval("var $mineSweeper = $('#myMineSweeper');\nvar mines = 0;\nvar height = 0;\nvar width = 0;\nvar array = [];\nvar flagCounter = 0;\n\nfunction UpdateCounterText() {\n    var nextCounter = array.reduce((p, c) => p - c.filter(o => o.flag).length, mines);\n\n    $('#counterText').text(nextCounter);\n    flagCounter = nextCounter;\n};\n\nfunction StartGame() {\n    for (var i = 0; i < height; i++) {\n        array[i] = [];\n        for (var j = 0; j < width; j++) {\n            array[i][j] = {\n                number: 0,\n                open: false,\n                mine: false,\n                flag: false,\n                ask: false\n            };\n        }\n    }\n    for (var i = 0; i < mines; i++) {\n        AddRandomMine();\n    }\n\n    function AddRandomMine() {\n        var loop = true;\n        while (loop) {\n            var column = Math.floor(Math.random() * width);\n            var row = Math.floor(Math.random() * height);\n\n            if (!array[row][column].mine) {\n                array[row][column].mine = true;\n                loop = false;\n            }\n        }\n    };\n\n    AddNumbers();\n    function AddNumbers() {\n        for (var i = 0; i < array.length; i++) {\n            for (var j = 0; j < array[i].length; j++) {\n                if (!array[i][j].mine) {\n                    var surroundingCells = GetSurroundingMines(array, i, j);\n                    array[i][j].number = surroundingCells.length;\n                }\n            }\n        }\n    };\n\n    GetSurroundingMines(array, 0, 0);\n    function GetSurroundingMines(array, i, j) {\n        var simonCells = [[i + 1, j], [i + 1, j + 1], [i + 1, j - 1], [i - 1, j], [i - 1, j - 1], [i - 1, j + 1], [i, j + 1], [i, j - 1]];\n\n        var validCells = simonCells.filter(function (cell) {\n            var i = cell[0];\n            var j = cell[1];\n            return i >= 0 && i < array.length && j >= 0 && j < array[0].length;\n        });\n        var realCells = validCells.map(function (cell) {\n            var i = cell[0];\n            var j = cell[1];\n            return array[i][j];\n        });\n        var numberOfMines = realCells.filter(function (array) {\n            return array.mine;\n        });\n\n        return numberOfMines;\n    };\n    //Reset counter and button picture\n    UpdateCounterText();\n    $('#playAgain').attr('class', 'playAgain');\n\n    render();\n    function render() {\n        $mineSweeper.empty();\n        for (var i = 0; i < array.length; i++) {\n            var $myRow = $('<div/>', { class: 'row' });\n            $mineSweeper.append($myRow);\n            for (var j = 0; j < array[i].length; j++) {\n                var selectedCell = array[i][j];\n                var text = selectedCell.mine ? ' ' : selectedCell.number > 0 ? selectedCell.number : ' ';\n                $myRow.append($('<button/>', {\n                    type: 'button', 'data-i': i, 'data-j': j,\n                    text: selectedCell.open ? text : ' ',\n                    class: selectedCell.open && selectedCell.mine ? 'openmineCell' : selectedCell.open ? 'opencell' : selectedCell.flag ? 'flagCell' : selectedCell.ask ? 'askCell' : 'cell'\n                }));\n            }\n        }\n    };\n\n    function OpenSurroundingCells(i, j) {\n        var surroundingCells = [[i + 1, j], [i + 1, j + 1], [i + 1, j - 1], [i - 1, j], [i - 1, j - 1], [i - 1, j + 1], [i, j + 1], [i, j - 1]];\n        var validCells = surroundingCells.filter(cell => {\n            var i = cell[0];\n            var j = cell[1];\n            return i >= 0 && i < array.length && j >= 0 && j < array[0].length;\n        });\n        var cellsForRecursion = validCells.filter(cell => {\n            i = cell[0];\n            j = cell[1];\n            return array[i][j].open == false && array[i][j].number == 0;\n        });\n        validCells.forEach(cell => {\n            i = cell[0];\n            j = cell[1];\n            array[i][j].open = true;\n            array[i][j].flag = false;\n            array[i][j].ask = false;\n        });\n        return cellsForRecursion;\n    };\n\n    function OpenSurroundingNonFlaggedCells(i, j) {\n        var surroundingCells = [[i + 1, j], [i + 1, j + 1], [i + 1, j - 1], [i - 1, j], [i - 1, j - 1], [i - 1, j + 1], [i, j + 1], [i, j - 1]];\n        var validCells = surroundingCells.filter(cell => {\n            let k = cell[0];\n            let l = cell[1];\n            return k >= 0 && k < array.length && l >= 0 && l < array[0].length;\n        });\n        console.log('validCells', validCells);\n        var flagCells = validCells.filter(cell => {\n            let k = cell[0];\n            let l = cell[1];\n            return array[k][l].flag;\n        });\n        console.log('flagCells', flagCells);\n        console.log('validCells', validCells);\n        if (flagCells.length == array[i][j].number) {\n            validCells.forEach(cell => {\n                let k = cell[0];\n                let l = cell[1];\n                if (!array[k][l].flag) {\n                    if (array[k][l].mine) {\n                        array.forEach(r => r.forEach(cell => cell.open = true));\n                        $('.playAgain').attr('class', 'userLost');\n                    };\n                    if (array[k][l].number == 0 && !array[k][l].mine) {\n                        ClickedOnZero(k, l);\n                    };\n                    array[k][l].open = true;\n                    array[k][l].flag = false;\n                    array[k][l].ask = false;\n                }\n            });\n        }\n        render();\n        if (UserWon(i, j)) render();\n    };\n\n    $(document).on('dblclick', '.opencell', function (e) {\n        e.stopImmediatePropagation();\n        var $cell = $(this);\n        var i = $cell.data('i');\n        var j = $cell.data('j');\n        OpenSurroundingNonFlaggedCells(i, j);\n    });\n\n    $(document).on('contextmenu', '.flagCell, .cell, .askCell', function (event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        var $cell = $(this);\n        const setCellClass = n => $cell.attr('class', n);\n\n        var i = $cell.data('i');\n        var j = $cell.data('j');\n\n        switch ($cell.attr('class')) {\n            case 'cell':\n                if (flagCounter >= 1) {\n                    array[i][j].flag = true;\n                    setCellClass('flagCell');\n                    break;\n                } else {\n                    return;\n                }\n            case 'flagCell':\n                array[i][j].flag = false;\n                array[i][j].ask = true;\n                setCellClass('askCell');\n                break;\n            case 'askCell':\n                array[i][j].ask = false;\n                setCellClass('cell');\n                break;\n            default:\n                break;\n        };\n        UpdateCounterText();\n    });\n\n    $(document).on('click', '.cell', function (event) {\n        event.stopImmediatePropagation();\n        var $cell = $(this);\n        var i = $cell.data('i');\n        var j = $cell.data('j');\n\n        if (UserWon(i, j)) render();\n\n        if (array[i][j].number != 0) {\n            array[i][j].open = true;\n        } else if (array[i][j].number == 0 && !array[i][j].mine) {\n            ClickedOnZero(i, j);\n        } else if (array[i][j].mine) {\n            array.forEach(r => r.forEach(cell => cell.open = true));\n            $('.playAgain').attr('class', 'userLost');\n        };\n        UpdateCounterText();\n        render();\n    });\n\n    function ClickedOnZero(i, j) {\n        array[i][j].open = true;\n        var allCellsToCheck = OpenSurroundingCells(i, j);\n        var loopingLength = allCellsToCheck;\n        for (var k = 0; k < loopingLength.length; k++) {\n            i = allCellsToCheck[k][0];\n            j = allCellsToCheck[k][1];\n            var returnedCells = OpenSurroundingCells(i, j);\n            if (returnedCells.length > 0) {\n                for (var l = 0; l < returnedCells.length; l++) {\n                    loopingLength.push(returnedCells[l]);\n                }\n            }\n        }\n    }\n    function UserWon(i, j) {\n        var closedCells = array.reduce((p, c) => {\n            c.filter(o => o.open).length + p;\n        }, 0);\n\n        if (closedCells == mines + 1 && array[i][j].mine == false) {\n            array[i][j].open = true;\n            $('.playAgain').attr('class', 'userWon');\n            array.forEach(r => r.forEach(cell => cell.open = true));\n            return true;\n        } else return false;\n    }\n}\n\nfunction SetUpGame() {\n    height = $('#height').val();\n    height = parseInt(height);\n    width = $('#width').val();\n    width = parseInt(width);\n\n    if (height >= 2 && width >= 2 && height <= 50 && width <= 50) {\n        mines = Math.round(width * height / 8) + 1;\n        $('#size').toggle();\n        $('#game').toggle();\n        StartGame();\n    } else {\n        $('#chooseSize').html('<p style=\"color: red;\">Must be between 2 and 50<p/>');\n        return;\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXguanM/MWZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgJG1pbmVTd2VlcGVyID0gJCgnI215TWluZVN3ZWVwZXInKTtcbnZhciBtaW5lcyA9IDA7XG52YXIgaGVpZ2h0ID0gMDtcbnZhciB3aWR0aCA9IDA7XG52YXIgYXJyYXkgPSBbXTtcbnZhciBmbGFnQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIFVwZGF0ZUNvdW50ZXJUZXh0KCl7XG4gICAgdmFyIG5leHRDb3VudGVyID0gYXJyYXlcbiAgICAucmVkdWNlKChwLCBjKSA9PiBwIC0gYy5maWx0ZXIobyA9PiBvLmZsYWcpLmxlbmd0aCwgbWluZXMpO1xuXG4gICAgJCgnI2NvdW50ZXJUZXh0JykudGV4dChuZXh0Q291bnRlcilcbiAgICBmbGFnQ291bnRlciA9IG5leHRDb3VudGVyO1xufTtcblxuZnVuY3Rpb24gU3RhcnRHYW1lKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVpZ2h0OyBpKyspIHtcbiAgICAgICAgYXJyYXlbaV0gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7XG4gICAgICAgICAgICBhcnJheVtpXVtqXSA9IHtcbiAgICAgICAgICAgICAgICBudW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgb3BlbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWluZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZmxhZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXNrOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1pbmVzOyBpKyspIHtcbiAgICAgICAgQWRkUmFuZG9tTWluZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEFkZFJhbmRvbU1pbmUoKSB7XG4gICAgICAgIHZhciBsb29wID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKGxvb3ApIHtcbiAgICAgICAgICAgIHZhciBjb2x1bW4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB3aWR0aClcbiAgICAgICAgICAgIHZhciByb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBoZWlnaHQpXG5cbiAgICAgICAgICAgIGlmICghYXJyYXlbcm93XVtjb2x1bW5dLm1pbmUpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtyb3ddW2NvbHVtbl0ubWluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbG9vcCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIEFkZE51bWJlcnMoKTtcbiAgICBmdW5jdGlvbiBBZGROdW1iZXJzKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5W2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheVtpXVtqXS5taW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdXJyb3VuZGluZ0NlbGxzID0gR2V0U3Vycm91bmRpbmdNaW5lcyhhcnJheSwgaSwgaik7XG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldW2pdLm51bWJlciA9IHN1cnJvdW5kaW5nQ2VsbHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBHZXRTdXJyb3VuZGluZ01pbmVzKGFycmF5LCAwLCAwKTtcbiAgICBmdW5jdGlvbiBHZXRTdXJyb3VuZGluZ01pbmVzKGFycmF5LCBpLCBqKSB7XG4gICAgICAgIHZhciBzaW1vbkNlbGxzID0gW1tpICsgMSwgal0sIFtpICsgMSwgaiArIDFdLCBbaSArIDEsIGogLSAxXSwgW2kgLSAxLCBqXSwgW2kgLSAxLCBqIC0gMV0sIFtpIC0gMSwgaiArIDFdLCBbaSwgaiArIDFdLCBbaSwgaiAtIDFdXTtcblxuICAgICAgICB2YXIgdmFsaWRDZWxscyA9IHNpbW9uQ2VsbHMuZmlsdGVyKGZ1bmN0aW9uIChjZWxsKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGNlbGxbMF1cbiAgICAgICAgICAgIHZhciBqID0gY2VsbFsxXVxuICAgICAgICAgICAgcmV0dXJuIGkgPj0gMCAmJiBpIDwgYXJyYXkubGVuZ3RoICYmIGogPj0gMCAmJiBqIDwgYXJyYXlbMF0ubGVuZ3RoXG4gICAgICAgIH0pXG4gICAgICAgIHZhciByZWFsQ2VsbHMgPSB2YWxpZENlbGxzLm1hcChmdW5jdGlvbiAoY2VsbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBjZWxsWzBdXG4gICAgICAgICAgICB2YXIgaiA9IGNlbGxbMV1cbiAgICAgICAgICAgIHJldHVybiBhcnJheVtpXVtqXVxuICAgICAgICB9KVxuICAgICAgICB2YXIgbnVtYmVyT2ZNaW5lcyA9IHJlYWxDZWxscy5maWx0ZXIoZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyYXkubWluZTtcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gbnVtYmVyT2ZNaW5lcztcbiAgICB9O1xuICAgIC8vUmVzZXQgY291bnRlciBhbmQgYnV0dG9uIHBpY3R1cmVcbiAgICBVcGRhdGVDb3VudGVyVGV4dCgpXG4gICAgJCgnI3BsYXlBZ2FpbicpLmF0dHIoJ2NsYXNzJywgJ3BsYXlBZ2FpbicpXG5cbiAgICByZW5kZXIoKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICRtaW5lU3dlZXBlci5lbXB0eSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgJG15Um93ID0gJCgnPGRpdi8+JywgeyBjbGFzczogJ3JvdycgfSlcbiAgICAgICAgICAgICRtaW5lU3dlZXBlci5hcHBlbmQoJG15Um93KVxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZENlbGwgPSBhcnJheVtpXVtqXVxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gc2VsZWN0ZWRDZWxsLm1pbmUgPyAnICcgOiBzZWxlY3RlZENlbGwubnVtYmVyID4gMCA/IHNlbGVjdGVkQ2VsbC5udW1iZXIgOiAnICc7XG4gICAgICAgICAgICAgICAgJG15Um93LmFwcGVuZCgkKCc8YnV0dG9uLz4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLCAnZGF0YS1pJzogaSwgJ2RhdGEtaic6IGosXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHNlbGVjdGVkQ2VsbC5vcGVuID8gdGV4dCA6ICcgJyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHNlbGVjdGVkQ2VsbC5vcGVuICYmIHNlbGVjdGVkQ2VsbC5taW5lID8gJ29wZW5taW5lQ2VsbCcgOiBzZWxlY3RlZENlbGwub3BlbiA/ICdvcGVuY2VsbCcgOiBzZWxlY3RlZENlbGwuZmxhZyA/ICdmbGFnQ2VsbCcgOiBzZWxlY3RlZENlbGwuYXNrID8gJ2Fza0NlbGwnIDogJ2NlbGwnXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gT3BlblN1cnJvdW5kaW5nQ2VsbHMoaSwgaikge1xuICAgICAgICB2YXIgc3Vycm91bmRpbmdDZWxscyA9IFtbaSArIDEsIGpdLCBbaSArIDEsIGogKyAxXSwgW2kgKyAxLCBqIC0gMV0sIFtpIC0gMSwgal0sIFtpIC0gMSwgaiAtIDFdLCBbaSAtIDEsIGogKyAxXSwgW2ksIGogKyAxXSwgW2ksIGogLSAxXV07XG4gICAgICAgIHZhciB2YWxpZENlbGxzID0gc3Vycm91bmRpbmdDZWxscy5maWx0ZXIoKGNlbGwpID0+IHtcbiAgICAgICAgICAgIHZhciBpID0gY2VsbFswXVxuICAgICAgICAgICAgdmFyIGogPSBjZWxsWzFdXG4gICAgICAgICAgICByZXR1cm4gaSA+PSAwICYmIGkgPCBhcnJheS5sZW5ndGggJiYgaiA+PSAwICYmIGogPCBhcnJheVswXS5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjZWxsc0ZvclJlY3Vyc2lvbiA9IHZhbGlkQ2VsbHMuZmlsdGVyKChjZWxsKSA9PiB7XG4gICAgICAgICAgICBpID0gY2VsbFswXVxuICAgICAgICAgICAgaiA9IGNlbGxbMV1cbiAgICAgICAgICAgIHJldHVybiBhcnJheVtpXVtqXS5vcGVuID09IGZhbHNlICYmIGFycmF5W2ldW2pdLm51bWJlciA9PSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFsaWRDZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgICBpID0gY2VsbFswXVxuICAgICAgICAgICAgaiA9IGNlbGxbMV1cbiAgICAgICAgICAgIGFycmF5W2ldW2pdLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgYXJyYXlbaV1bal0uZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgYXJyYXlbaV1bal0uYXNrID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2VsbHNGb3JSZWN1cnNpb247XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIE9wZW5TdXJyb3VuZGluZ05vbkZsYWdnZWRDZWxscyhpLCBqKSB7XG4gICAgICAgIHZhciBzdXJyb3VuZGluZ0NlbGxzID0gW1tpICsgMSwgal0sIFtpICsgMSwgaiArIDFdLCBbaSArIDEsIGogLSAxXSwgW2kgLSAxLCBqXSwgW2kgLSAxLCBqIC0gMV0sIFtpIC0gMSwgaiArIDFdLCBbaSwgaiArIDFdLCBbaSwgaiAtIDFdXTtcbiAgICAgICAgdmFyIHZhbGlkQ2VsbHMgPSBzdXJyb3VuZGluZ0NlbGxzLmZpbHRlcigoY2VsbCkgPT4ge1xuICAgICAgICAgICAgbGV0IGsgPSBjZWxsWzBdXG4gICAgICAgICAgICBsZXQgbCA9IGNlbGxbMV1cbiAgICAgICAgICAgIHJldHVybiBrID49IDAgJiYgayA8IGFycmF5Lmxlbmd0aCAmJiBsID49IDAgJiYgbCA8IGFycmF5WzBdLmxlbmd0aFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ3ZhbGlkQ2VsbHMnLCB2YWxpZENlbGxzKTtcbiAgICAgICAgdmFyIGZsYWdDZWxscyA9IHZhbGlkQ2VsbHMuZmlsdGVyKChjZWxsKSA9PiB7XG4gICAgICAgICAgICBsZXQgayA9IGNlbGxbMF1cbiAgICAgICAgICAgIGxldCBsID0gY2VsbFsxXVxuICAgICAgICAgICAgcmV0dXJuIGFycmF5W2tdW2xdLmZsYWdcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmbGFnQ2VsbHMnLCBmbGFnQ2VsbHMpO1xuICAgICAgICBjb25zb2xlLmxvZygndmFsaWRDZWxscycsIHZhbGlkQ2VsbHMpO1xuICAgICAgICBpZihmbGFnQ2VsbHMubGVuZ3RoID09IGFycmF5W2ldW2pdLm51bWJlcil7XG4gICAgICAgICAgICB2YWxpZENlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgayA9IGNlbGxbMF07XG4gICAgICAgICAgICAgICAgbGV0IGwgPSBjZWxsWzFdO1xuICAgICAgICAgICAgICAgIGlmKCFhcnJheVtrXVtsXS5mbGFnKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5W2tdW2xdLm1pbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LmZvckVhY2gociA9PiByLmZvckVhY2goY2VsbCA9PiBjZWxsLm9wZW4gPSB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucGxheUFnYWluJykuYXR0cignY2xhc3MnLCAndXNlckxvc3QnKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlba11bbF0ubnVtYmVyID09IDAgJiYgIWFycmF5W2tdW2xdLm1pbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIENsaWNrZWRPblplcm8oaywgbCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2tdW2xdLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhcnJheVtrXVtsXS5mbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2tdW2xdLmFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyKCk7XG4gICAgICAgIGlmKFVzZXJXb24oaSwgaikpXG4gICAgICAgICAgICByZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgJChkb2N1bWVudCkub24oJ2RibGNsaWNrJywgJy5vcGVuY2VsbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHZhciAkY2VsbCA9ICQodGhpcyk7XG4gICAgICAgIHZhciBpID0gJGNlbGwuZGF0YSgnaScpO1xuICAgICAgICB2YXIgaiA9ICRjZWxsLmRhdGEoJ2onKTtcbiAgICAgICAgT3BlblN1cnJvdW5kaW5nTm9uRmxhZ2dlZENlbGxzKGksIGopO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oJ2NvbnRleHRtZW51JywgJy5mbGFnQ2VsbCwgLmNlbGwsIC5hc2tDZWxsJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICB2YXIgJGNlbGwgPSAkKHRoaXMpO1xuICAgICAgICBjb25zdCBzZXRDZWxsQ2xhc3MgPSAobikgPT4gJGNlbGwuYXR0cignY2xhc3MnLCBuKTtcblxuICAgICAgICB2YXIgaSA9ICRjZWxsLmRhdGEoJ2knKTtcbiAgICAgICAgdmFyIGogPSAkY2VsbC5kYXRhKCdqJyk7XG4gICAgICAgIFxuICAgICAgICBzd2l0Y2goJGNlbGwuYXR0cignY2xhc3MnKSl7XG4gICAgICAgICAgICBjYXNlICdjZWxsJzpcbiAgICAgICAgICAgICAgICBpZihmbGFnQ291bnRlciA+PSAxKXtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV1bal0uZmxhZyA9IHRydWU7ICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRDZWxsQ2xhc3MoJ2ZsYWdDZWxsJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnZmxhZ0NlbGwnOlxuICAgICAgICAgICAgICAgIGFycmF5W2ldW2pdLmZsYWcgPSBmYWxzZTsgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhcnJheVtpXVtqXS5hc2sgPSB0cnVlOyAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRDZWxsQ2xhc3MoJ2Fza0NlbGwnKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYXNrQ2VsbCc6XG4gICAgICAgICAgICAgICAgYXJyYXlbaV1bal0uYXNrID0gZmFsc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRDZWxsQ2xhc3MoJ2NlbGwnKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfTtcbiAgICAgICAgVXBkYXRlQ291bnRlclRleHQoKTsgICAgICAgICAgXG4gICAgfSlcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY2VsbCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdmFyICRjZWxsID0gJCh0aGlzKVxuICAgICAgICB2YXIgaSA9ICRjZWxsLmRhdGEoJ2knKTtcbiAgICAgICAgdmFyIGogPSAkY2VsbC5kYXRhKCdqJyk7XG5cbiAgICAgICAgaWYoVXNlcldvbihpLCBqKSlcbiAgICAgICAgICAgIHJlbmRlcigpO1xuXG4gICAgICAgIGlmIChhcnJheVtpXVtqXS5udW1iZXIgIT0gMCkge1xuICAgICAgICAgICAgYXJyYXlbaV1bal0ub3BlbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChhcnJheVtpXVtqXS5udW1iZXIgPT0gMCAmJiAhYXJyYXlbaV1bal0ubWluZSkge1xuICAgICAgICAgICAgQ2xpY2tlZE9uWmVybyhpLCBqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKGFycmF5W2ldW2pdLm1pbmUpIHtcbiAgICAgICAgICAgIGFycmF5LmZvckVhY2gociA9PiByLmZvckVhY2goY2VsbCA9PiBjZWxsLm9wZW4gPSB0cnVlKSk7XG4gICAgICAgICAgICAkKCcucGxheUFnYWluJykuYXR0cignY2xhc3MnLCAndXNlckxvc3QnKVxuICAgICAgICB9O1xuICAgICAgICBVcGRhdGVDb3VudGVyVGV4dCgpO1xuICAgICAgICByZW5kZXIoKTtcbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gQ2xpY2tlZE9uWmVybyhpLCBqKSB7XG4gICAgICAgIGFycmF5W2ldW2pdLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGFsbENlbGxzVG9DaGVjayA9IE9wZW5TdXJyb3VuZGluZ0NlbGxzKGksIGopO1xuICAgICAgICAgICAgdmFyIGxvb3BpbmdMZW5ndGggPSBhbGxDZWxsc1RvQ2hlY2s7XG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxvb3BpbmdMZW5ndGgubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBpID0gYWxsQ2VsbHNUb0NoZWNrW2tdWzBdO1xuICAgICAgICAgICAgICAgIGogPSBhbGxDZWxsc1RvQ2hlY2tba11bMV07XG4gICAgICAgICAgICAgICAgdmFyIHJldHVybmVkQ2VsbHMgPSBPcGVuU3Vycm91bmRpbmdDZWxscyhpLCBqKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0dXJuZWRDZWxscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgcmV0dXJuZWRDZWxscy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9vcGluZ0xlbmd0aC5wdXNoKHJldHVybmVkQ2VsbHNbbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBVc2VyV29uKGksIGopIHtcbiAgICB2YXIgY2xvc2VkQ2VsbHMgPSBhcnJheS5yZWR1Y2UoKHAsIGMpID0+IHtcbiAgICAgICAgICAgIGMuZmlsdGVyKG8gPT4gby5vcGVuKS5sZW5ndGggKyBwO1xuICAgICAgICB9LCAwKTtcbiAgICAgIFxuICAgICAgICBpZiAoY2xvc2VkQ2VsbHMgPT0gbWluZXMgKyAxICYmIGFycmF5W2ldW2pdLm1pbmUgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFycmF5W2ldW2pdLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgJCgnLnBsYXlBZ2FpbicpLmF0dHIoJ2NsYXNzJywgJ3VzZXJXb24nKVxuICAgICAgICAgICAgYXJyYXkuZm9yRWFjaChyID0+IHIuZm9yRWFjaChjZWxsID0+IGNlbGwub3BlbiA9IHRydWUpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFNldFVwR2FtZSgpe1xuICAgIGhlaWdodCA9ICQoJyNoZWlnaHQnKS52YWwoKTtcbiAgICBoZWlnaHQgPSBwYXJzZUludChoZWlnaHQpO1xuICAgIHdpZHRoID0gJCgnI3dpZHRoJykudmFsKCk7XG4gICAgd2lkdGggPSBwYXJzZUludCh3aWR0aCk7XG4gICAgXG4gICAgaWYoaGVpZ2h0ID49IDIgJiYgd2lkdGggPj0gMiAmJiBoZWlnaHQgPD0gNTAgJiYgd2lkdGggPD0gNTApe1xuICAgICAgICBtaW5lcyA9IE1hdGgucm91bmQoKHdpZHRoICogaGVpZ2h0KSAvIDgpICsgMTtcbiAgICAgICAgJCgnI3NpemUnKS50b2dnbGUoKTtcbiAgICAgICAgJCgnI2dhbWUnKS50b2dnbGUoKTtcbiAgICAgICAgU3RhcnRHYW1lKCk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAgICQoJyNjaG9vc2VTaXplJykuaHRtbCgnPHAgc3R5bGU9XCJjb2xvcjogcmVkO1wiPk11c3QgYmUgYmV0d2VlbiAyIGFuZCA1MDxwLz4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9pbmRleC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBCQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ })
/******/ ]);